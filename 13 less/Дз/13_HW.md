## 13 Урок ДЗ Разбор

### Разбор дз

<strong> Задача 13.1 </strong> В математике часто используют плоскости, а чтобы ориентироваться в плоскости считают координаты точек. Создайте класс точка (в двухмерном пространстве), инициализируйте поля через конструктор и посчитайте расстояние между двумя точками (функция). Поля объекта равны нулю по умолчанию.

```c++
#include <iostream>
#include <cmath>
using namespace std;

class point
{
private:
	int x;
	int y;

public:
	point(int x = 0, int y = 0) : x(x), y(y){};

	int getX()
	{
		return x;
	}
	int getY()
	{
		return y;
	}
};

double rasst(point &A, point &B)
{
	double r_x = abs(A.getX() - B.getX());
	double r_y = abs(A.getY() - B.getY());
	double rasst_x = r_x * r_x;
	double rasst_y = r_y * r_y;
	double res = sqrt(rasst_x + rasst_y);
	return res;
}

void show(double a)
{
	cout << a;
}

void show_point(point &test)
{
	cout << test.getX() << ":" << test.getY() << endl;
}

int main()
{
	point a(1);
	point b(5, 78);

	show_point(a);
	show_point(b);
	cout << endl;
	cout << rasst(a, b);
	return 0;
}
```

<strong> Задача 13.2 </strong> В математике часто используют плоскости, а чтобы ориентироваться в плоскости считают координаты точек. Создайте класс точка (в трехмерном пространстве), инициализируйте поля через конструктор и посчитайте расстояние между двумя точками (функция).

```c++
#include <iostream>
#include <cmath>
using namespace std;

class point
{
private:
    int x;
    int y;
    int z;

public:
    point(int x_ = 0, int y_ = 0, int z_ = 0)
    {
        this->x = x_;
        this->y = y_;
        this->z = z_;
    }
    int getX()
    {
        return x;
    }
    int getY()
    {
        return y;
    }
    int getZ()
    {
        return z;
    }
};

double rasst(point &A, point &B)
{
    double r_x = abs(A.getX() - B.getX());
    double r_y = abs(A.getY() - B.getY());
    double r_z = abs(A.getZ() - B.getZ());
    double rasst_x = r_x * r_x;
    double rasst_y = r_y * r_y;
    double rasst_z = r_z * r_z;
    double res = sqrt(rasst_x + rasst_y + rasst_z);
    return res;
}

void show(double a)
{
    cout << a;
}

void show_point(point &test)
{
    cout << test.getX() << ":" << test.getY() << ":" << test.getZ() << endl;
}

int main()
{

    point a;
    point b(5, 6, 8);
    show_point(a);
    show_point(b);
    cout << rasst(a, b);

    return 0;
}
```

<strong> Задача 13.3 </strong> доп к (13.1). Создайте и инициализируйте <strong>массив</strong> точек (point2) и посчитайте расстояние между <strong> парными точками </strong>. Значение расстояния занесите в массив и выедите его.

```c++
#include <iostream>
#include <cmath>
using namespace std;

class point
{
private:
    int x;
    int y;

public:
    point(int x = 0, int y = 0) : x(x), y(y){};

    int getX()
    {
        return x;
    }
    int getY()
    {
        return y;
    }

    void show()
    {
        cout << x << " " << y << endl;
    }
};

double rasst(point *A, point *B)
{
    double r_x = abs(A->getX() - B->getX());
    double r_y = abs(A->getY() - B->getY());
    double rasst_x = r_x * r_x;
    double rasst_y = r_y * r_y;
    double res = sqrt(rasst_x + rasst_y);
    return res;
}

double rasst(int x1, int y1, int x2, int y2)
{
    double r_x = abs(x1 - x2);
    double r_y = abs(y1 - y2);
    double rasst_x = r_x * r_x;
    double rasst_y = r_y * r_y;
    double res = sqrt(rasst_x + rasst_y);
    return res;
}

double *find_rast(point **ptr, int size)
{
    double *temp = new double[size / 2];
    int j = 0;
    for (int i = 0; i < size; i += 2)
    {
        temp[j] = rasst(ptr[i], ptr[i + 1]);
        j++;
    }
    return temp;
}
void show(double a)
{
    cout << a;
}

void show_point(point &test)
{
    cout << test.getX() << ":" << test.getY() << endl;
}

int main()
{

    cout << "Укажите кол-во точек" << endl;
    int col;
    cin >> col;
    point **ptr_arr = new point *[col];

    for (int i = 0; i < col; i++)
    {
        int val1 = 0, val2 = 0;
        cout << "Введите координаты X и Y" << endl;
        cin >> val1 >> val2;
        ptr_arr[i] = new point(val1, val2);
    }

    for (int i = 0; i < col; i++)
    {
        ptr_arr[i]->show();
    }

    double *rasst_arr = find_rast(ptr_arr, col);

    for (int i = 0; i < col / 2; i++)
    {
        cout << rasst_arr[i] << " ";
    }

    for (int i = 0; i < col; i++)
    {
        delete[] ptr_arr[i];
    }

    delete[] ptr_arr;
    delete[] rasst_arr;
    return 0;
}

```

<strong> Задача 13.4 </strong> Обычно, когда играешь в игру у персонажа можно задать только имя. Остальные поля они уже заданы в момент нашего запуска. (Конструктор по умолчанию). Мы не позволяем пользователю задавать значению полей персонажа, кроме имени. Задайте персонажу только имя. (Модификатор private у полей).

```c++
#include <iostream>
#include <string>

using namespace std;

class man
{
private:
    string name;
    int xp;
    int sp;
    int hp;
    int dam;

public:
    man(string name = " ", int xp = 0, int sp = 5, int hp = 3, int dam = 20) : name(name), xp(xp), sp(sp), hp(hp), dam(dam) {}
    void set_name(string test)
    {
        name = test;
    }
    void read()
    {
        cout << "Введите имя: " << endl;
        cin >> name;
    }
    void show()
    {
        cout << "Информация об игроке: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam. " << endl;
    }
};

int main()
{
    man A;
    A.read();
    A.show();
}
```

<strong> Задача 13.5 </strong> Данная задачка основывается на задаче 13.4 Реализуйте создание не одного персонажа, а массив (через динамическую память).

```c++
#include <iostream>
#include <string>
#include <vector>

using namespace std;

class man
{
private:
    string name;
    int xp;
    int sp;
    int hp;
    int dam;

public:
    man(string name = " ", int xp = 0, int sp = 5, int hp = 3, int dam = 20) : name(name), xp(xp), sp(sp), hp(hp), dam(dam) {}
    void set_name(string test)
    {
        name = test;
    }
    void read()
    {
        cout << "Введите имя: " << endl;
        cin >> name;
    }
    void show()
    {
        cout << "Информация об игроке: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam. " << endl;
    }
};

int main()
{
    int n;
    cin >> n;
    man **ptr = new man *[n]; //создали указатель, который указывает на массив указателей, которые создают в дин памяти объекты
    for (int i = 0; i < n; i++)
    {
        ptr[i]->read();
    }
    for (int i = 0; i < n; i++)
    {
        ptr[i]->show();
    }

    for (int i = 0; i < n; i++)
    {
        delete[] ptr[i];
    }
    delete[] ptr;
}
```

<strong> Задача 13.6 </strong> (Реализация наследования) На данный момент должно быть следующее: можно создать персонажей одного типа, у которых уже заданы значения полей, кроме имени (его можно изменить). Давайте расширим нашего персонажа. Пусть будет: голум, фея, каменный человек, каменный человек в огне + одного придумай сам.

```c++
#include <iostream>
#include <string>
#include <vector>

using namespace std;
class man
{
protected:
    string name;
    int xp;
    int sp;
    int hp;
    int dam;

public:
    man(string name = " ", int xp = 0, int sp = 5, int hp = 3, int dam = 20) : name(name), xp(xp), sp(sp), hp(hp), dam(dam) {}
    void set_name(string test)
    {
        name = test;
    }
    void read()
    {
        cout << "Введите имя: " << endl;
        cin >> name;
    }
    void info()
    {
        cout << "Информация об игроке: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam. " << endl;
    }
};
class golum : public man
{
protected:
    int goblin_power;

public:
    golum(string name = " ", int hp = 0, int xp = 5, int speed = 23, int damage = 10, int goblin_power = 0)
        : man(name, hp, xp, speed, damage), goblin_power(goblin_power) {}

    void info()
    {
        cout << "Информация об гоблине: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam " << goblin_power << " goblin power." << endl;
    }
};

class fairy : public man
{
protected:
    int fairy_power;

public:
    fairy(string name = " ", int hp = 45, int xp = 3, int speed = 220, int damage = 2350, int fairy_power = 0)
        : man(name, hp, xp, speed, damage), fairy_power(fairy_power) {}
    void info()
    {
        cout << "Информация об феечке: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam " << fairy_power << " fairy power." << endl;
    }
};

class stoneman : public man
{

protected:
    int stone_power;

public:
    stoneman(string name = " ", int hp = 0, int xp = 10, int speed = 0, int damage = 0, int stone_power = 0)
        : man(name, hp, xp, speed, damage), stone_power(stone_power) {}

    void info()
    {
        cout << "Информация об тони: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam " << stone_power << " stone power." << endl;
    }
};

class stonemanV2 : public stoneman
{
protected:
    int stone_fire_power;

public:
    stonemanV2(string name = " ", int hp = 2, int xp = 0, int speed = 4, int damage = 0, int stone_power = 0, int stone_fire_power = 0)
        : stoneman(name, hp, xp, speed, damage, stone_power), stone_fire_power(stone_fire_power) {}
    void info()
    {
        cout << "Информация об стрке пок: " << endl;
        cout << name << ", " << xp << " xp, " << sp << " sp, " << hp << " hp, " << dam << " dam " << stone_power << " stone power" << stone_fire_power << " stone fire power" << endl;
    }
};

int main()
{
    int cnt;
    cout << "Укажите кол-во персонажей" << endl;
    cin >> cnt;
    man **game = new man *[cnt];
    man *player;
    string what;
    for (int i = 0; i < cnt; i++)
    {
        cout << "Какого персонажа добавить?" << endl;
        cin >> what;
        if (what == "man")
        {
            player = new man;
            player->read();
            game[i] = player;
        }

        if (what == "golum")
        {
            player = new golum;
            player->read();
            game[i] = player;
        }
        if (what == "stoneman")
        {
            player = new stoneman;
            player->read();
            game[i] = player;
        }

        if (what == "stonemanV2")
        {
            player = new stonemanV2;
            player->read();
            game[i] = player;
        }
    }

    for (int i = 0; i < cnt; i++)
    {
        game[i]->info();
    }

    for (int i = 0; i < cnt; i++)
    {
        delete[] game[i];
    }

    delete[] game;
    delete player;
}
```
